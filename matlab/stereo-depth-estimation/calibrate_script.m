% Auto-generated by stereoCalibrator app on 06-Dec-2016
%-------------------------------------------------------


% Define images to process
imageFileNames1 = {'/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00000.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00001.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00002.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00003.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00004.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00005.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00006.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00007.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00008.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00009.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00010.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00011.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00012.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00013.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00014.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00015.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00016.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00017.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00018.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00019.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00020.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00021.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00022.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00023.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00024.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00025.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00026.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00027.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00028.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00029.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00030.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00031.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00032.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00033.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00034.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00035.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00036.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00037.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00038.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00039.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00040.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00041.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00042.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00043.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00044.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00045.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00046.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00047.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00048.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00049.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00050.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00051.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00052.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00053.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00054.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00055.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00056.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00057.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00058.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00059.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00060.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00061.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00062.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00063.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00064.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00065.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00066.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00067.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00068.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00069.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00070.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00071.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00072.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00073.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/left/left_00074.png',...
    };
imageFileNames2 = {'/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00000.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00001.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00002.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00003.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00004.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00005.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00006.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00007.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00008.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00009.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00010.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00011.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00012.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00013.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00014.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00015.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00016.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00017.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00018.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00019.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00020.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00021.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00022.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00023.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00024.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00025.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00026.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00027.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00028.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00029.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00030.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00031.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00032.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00033.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00034.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00035.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00036.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00037.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00038.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00039.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00040.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00041.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00042.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00043.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00044.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00045.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00046.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00047.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00048.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00049.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00050.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00051.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00052.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00053.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00054.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00055.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00056.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00057.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00058.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00059.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00060.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00061.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00062.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00063.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00064.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00065.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00066.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00067.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00068.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00069.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00070.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00071.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00072.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00073.png',...
    '/home/xtarke/Projects/visao/visao-c/workspace/stereocapture/imagens/right/right_00074.png',...
    };

% Detect checkerboards in images
[imagePoints, boardSize, imagesUsed] = detectCheckerboardPoints(imageFileNames1, imageFileNames2);

% Generate world coordinates of the checkerboard keypoints
squareSize = 25;  % in units of 'mm'
worldPoints = generateCheckerboardPoints(boardSize, squareSize);

% Calibrate the camera
[stereoParams, pairsUsed, estimationErrors] = estimateCameraParameters(imagePoints, worldPoints, ...
    'EstimateSkew', true, 'EstimateTangentialDistortion', true, ...
    'NumRadialDistortionCoefficients', 3, 'WorldUnits', 'mm');

% View reprojection errors
h1=figure; showReprojectionErrors(stereoParams, 'BarGraph');

% Visualize pattern locations
h2=figure; showExtrinsics(stereoParams, 'CameraCentric');

% Display parameter estimation errors
displayErrors(estimationErrors, stereoParams);

% You can use the calibration data to rectify stereo images.
I1 = imread(imageFileNames1{1});
I2 = imread(imageFileNames2{1});
[J1, J2] = rectifyStereoImages(I1, I2, stereoParams);

% See additional examples of how to use the calibration data.  At the prompt type:
% showdemo('StereoCalibrationAndSceneReconstructionExample')
